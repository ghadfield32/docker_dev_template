# =============================================================================
# CONTAINER CONFIGURATION - Primary Settings
# =============================================================================
# This is the main identifier used throughout the entire stack
# Change this to customize your container name, compose project, etc.
ENV_NAME=docker_dev_template

# =============================================================================
# DOCKER & CUDA CONFIGURATION  
# =============================================================================
CUDA_TAG=12.8.0
DOCKER_BUILDKIT=1

# =============================================================================
# HOST PORT MAPPINGS
# =============================================================================
# These ports will be exposed on your host machine
HOST_JUPYTER_PORT=8895
HOST_TENSORBOARD_PORT=6005
HOST_EXPLAINER_PORT=8055
HOST_STREAMLIT_PORT=8505
HOST_MLFLOW_PORT=5005

# =============================================================================
# PYTHON & RUNTIME CONFIGURATION
# =============================================================================
PYTHON_VER=3.10

# =============================================================================
# GPU MEMORY MANAGEMENT (PyTorch + JAX Only - TensorFlow removed for efficiency)
# =============================================================================
# Leave blank to autodetect; set to 'gpu' or 'cpu' only if you must force it.
JAX_PLATFORM_NAME=

# Optimized for RTX 5080 - PyTorch + JAX memory sharing
XLA_PYTHON_CLIENT_PREALLOCATE=false
XLA_PYTHON_CLIENT_ALLOCATOR=platform  
XLA_PYTHON_CLIENT_MEM_FRACTION=0.35
XLA_FLAGS=--xla_force_host_platform_device_count=1
JAX_DISABLE_JIT=false
JAX_ENABLE_X64=false
JAX_PREALLOCATION_SIZE_LIMIT_BYTES=10737418240

# PyTorch memory management for RTX 5080
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:1024,expandable_segments:True,roundup_power2_divisions:16

# =============================================================================
# JUPYTER CONFIGURATION
# =============================================================================
JUPYTER_TOKEN=jupyter

# =============================================================================
# UV PACKAGE MANAGER CONFIGURATION
# =============================================================================
# Keep uv from targeting /workspace/.venv (a bind mount)
UV_PROJECT_ENVIRONMENT=/app/.venv

# =============================================================================
# KAGGLE AUTHENTICATION (Optional)
# =============================================================================
KAGGLE_USERNAME=geoffhadfield 
KAGGLE_KEY=your_api_token

# =============================================================================
# NOTES
# =============================================================================
# - TensorFlow removed for faster builds and reduced GPU memory conflicts
# - Torch CUDA wheel auto-selected from CUDA_TAG at startup
# - Memory settings optimized for RTX 5080 dual-framework usage
# - Change ENV_NAME above to customize all container naming

